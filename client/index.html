<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>Catalog</title>
    <link href="/s/main.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="/s/jquery.min.js"></script>
    <script type="text/javascript" src="/s/splitter.js"></script>

    <script type="text/javascript">
        function refreshTags() {
            $('#tag-list').empty()
            
            // todo: investigate replacing this with jquery's ajax converters
            $.getJSON('/tags', function(data) {
                    $.each(data, function(index, tagName) {
                        $('#tag-list').append('<li>' + tagName + '</li>')
                    })
                    $('#tag-list li').click( function() {
                        $('#tag-list .sel').removeClass('sel')
                        $(this).addClass('sel')
                    })
            })
        }
    
        $().ready(function() {

            $('#splitter').splitter({
                    type: 'v',
                    minLeft: 300, 
                    sizeLeft: 350,
                    /* maxLeft: 450, */
            })
            $('#mid-right-container').splitter({
                    type: 'v',
                    minRight: 300,
                    sizeRight: 350, 
                    /* maxRight: 450, */
            })
            
            refreshTags()
        });         
    </script>
</head>
<body>
    <div id="splitter">
        <div id="lcol">
            <div class="col-pad"> 
                <!-- todo: make this float when scrolled down -->
                <h1>Tags</h1>
                
                <ol id="tag-list">
                </ol>
            </div>
        </div>
        <div id="mid-right-container">
            <div id="mcol">
                <div class="col-pad">
                    <h1 id="sel-tag"></h1>
                    
                    <ol id="match-list">
                    </ol>
                </div>
            </div>
            <div id="rcol">
                <div class="col-pad">
                </div>
            </div>
        </div>
    </div>
</body>
</html>

